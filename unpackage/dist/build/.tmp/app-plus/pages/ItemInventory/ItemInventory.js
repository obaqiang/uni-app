(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/ItemInventory/ItemInventory"],{"0930":function(t,e,a){"use strict";a.r(e);var o=a("1292"),d=a.n(o);for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);e["default"]=d.a},1292:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:["show_modal_header","show_modal_body","show_modal_from","updata_url","data_a","data_b","data_c","data_d","data_e","data_f","data_g"],components:{},data:function(){return{new_data_f:this.data_f,new_data_g:this.data_g}},methods:{showModalBtn:function(e){""==this.new_data_f&&(this.new_data_f=0),""==this.new_data_g&&(this.new_data_g=0),t.setStorageSync("data_f",this.new_data_f),t.setStorageSync("data_g",this.new_data_g),this.$emit("showModalBtn",e)},focusInput:function(){console.log(123),this.new_data_f=""}},onLoad:function(){}};e.default=a}).call(this,a("649d")["default"])},"289f":function(t,e,a){"use strict";a.r(e);var o=a("6423"),d=a("4a10");for(var n in d)"default"!==n&&function(t){a.d(e,t,function(){return d[t]})}(n);var s=a("2877"),i=Object(s["a"])(d["default"],o["a"],o["b"],!1,null,null,null);e["default"]=i.exports},"3d25":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:["show_modal_header","show_modal_body","show_modal_from","updata_url","data_a","data_b","data_c","data_d","data_e","data_f","data_g"],components:{},data:function(){return{new_data_f:this.data_f,new_data_g:this.data_g}},methods:{showModalBtn:function(e){""==this.new_data_f&&(this.new_data_f=0),""==this.new_data_g&&(this.new_data_g=0),t.setStorageSync("data_f",this.new_data_f),t.setStorageSync("data_g",this.new_data_g),this.$emit("showModalBtn",e)},showModalBtnA:function(e){t.setStorageSync("record_data_f",this.new_data_f),t.setStorageSync("record_data_g",this.new_data_g),this.$emit("showModalBtnA",e)},focusInput:function(){console.log(123),this.new_data_f=""}},onLoad:function(){}};e.default=a}).call(this,a("649d")["default"])},"404b":function(t,e,a){"use strict";a.r(e);var o=a("7f99"),d=a.n(o);for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);e["default"]=d.a},"4a10":function(t,e,a){"use strict";a.r(e);var o=a("bacb"),d=a.n(o);for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);e["default"]=d.a},"4cc7":function(t,e,a){"use strict";var o=a("6518"),d=a.n(o);d.a},"51ac":function(t,e,a){"use strict";a.r(e);var o=a("cfa4"),d=a("404b");for(var n in d)"default"!==n&&function(t){a.d(e,t,function(){return d[t]})}(n);a("c5a0");var s=a("2877"),i=Object(s["a"])(d["default"],o["a"],o["b"],!1,null,null,null);e["default"]=i.exports},6423:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("PurchaseOrderInquirybodyA",{attrs:{eventid:"3e522356-0",mpcomid:"3e522356-0"},on:{phead_choose:t.phead_choose}}),t.left_show?a("PurchaseOrderInquirybodyB",{attrs:{order_text:t.order_text,order_text_list:t.order_text_list,order_time:t.order_time,order_time_list:t.order_time_list,supplier:t.supplier,supplier_list:t.supplier_list,supplier_man:t.supplier_man,supplier_man_list:t.supplier_man_list,mpcomid:"3e522356-1"}}):t._e(),t.left_show?a("PurchaseOrderInquirybodyC",{attrs:{table_list:t.table_list,eventid:"3e522356-1",mpcomid:"3e522356-2"},on:{tapMater:t.tapMater}}):t._e(),t.MaterialInventoryModal_show?a("MaterialInventoryModal",{attrs:{data_a:t.data_a,data_b:t.data_b,data_c:t.data_c,data_d:t.data_d,data_e:t.data_e,data_f:t.data_f,data_g:t.data_g,show_modal_header:t.show_modal_header,show_modal_body:t.show_modal_body,show_modal_from:t.show_modal_from,eventid:"3e522356-2",mpcomid:"3e522356-3"},on:{showModalBtn:t.showModalBtn}}):t._e(),t.alertModal_show?a("alertModal",{attrs:{alert_modal:t.alert_modal,mpcomid:"3e522356-4"}}):t._e(),t.left_show?a("view",{staticClass:"common_bot_btn",attrs:{eventid:"3e522356-3"},on:{tap:t.SureSubmit}},[t._v("确认提交")]):t._e(),0==t.left_show?a("InventoryList",{attrs:{InventoryList_data:t.InventoryList_data,eventid:"3e522356-4",mpcomid:"3e522356-5"},on:{modal_copyshow:t.modal_copyshow}}):t._e(),t.record_modal_show?a("RecordModal",{attrs:{InventoryList_data_detail:t.InventoryList_data_detail,data_a:t.InventoryList_data_detail.materialCode,data_b:t.InventoryList_data_detail.materialName,data_f:t.InventoryList_data_detail.countQty,data_g:t.InventoryList_data_detail.giveQty,show_modal_header:t.show_modal_header,show_modal_body:t.show_modal_body,show_modal_from:t.show_modal_from,eventid:"3e522356-5",mpcomid:"3e522356-6"},on:{showModalBtnA:t.showModalBtnA}}):t._e()],1)},d=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return d})},6518:function(t,e,a){},"7a88":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:"show_modal_mask"}),a("view",{staticClass:"show_modal_area"},[a("view",{staticClass:"show_modal_header"},[t._v(t._s(t.show_modal_header))]),a("view",{staticClass:"show_modal_body"},[t._v(t._s(t.show_modal_body)),a("view",{staticClass:"show_modal_body_list"},[a("text",[t._v("物料编码:")]),a("text",[t._v(t._s(t.data_a))])]),a("view",{staticClass:"show_modal_body_list"},[a("text",[t._v("物料名称:")]),a("text",[t._v(t._s(t.data_b))])]),a("view",{staticClass:"show_modal_body_list"},[a("text",[t._v("采购数:")]),a("text",[t._v(t._s(t.data_d))])]),a("view",{staticClass:"show_modal_body_list"},[a("text",[t._v("到货数:")]),a("text",[t._v(t._s(t.data_e))])]),a("view",{staticClass:"show_modal_body_list"},[a("text",[t._v("清点数:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_data_f,expression:"new_data_f"}],staticClass:"show_modal_body_list_input",attrs:{type:"text",placeholder:"请输入清点数",eventid:"692594fa-0"},domProps:{value:t.new_data_f},on:{focus:t.focusInput,input:function(e){e.target.composing||(t.new_data_f=e.target.value)}}})]),a("view",{staticClass:"show_modal_body_list"},[a("text",[t._v("备品数:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_data_g,expression:"new_data_g"}],staticClass:"show_modal_body_list_input",attrs:{type:"text",placeholder:"请输入备品数",eventid:"692594fa-1"},domProps:{value:t.new_data_g},on:{input:function(e){e.target.composing||(t.new_data_g=e.target.value)}}})])]),a("input",{attrs:{type:"text"}}),a("view",{staticClass:"show_modal_footer"},[a("button",{staticClass:"show_modal_footer_btn_left",attrs:{eventid:"692594fa-2"},on:{tap:function(e){t.showModalBtn(!1)}}},[t._v("取消")]),a("button",{staticClass:"show_modal_footer_btn_right",attrs:{eventid:"692594fa-3"},on:{tap:function(e){t.showModalBtn(!0)}}},[t._v("保存")])],1)])])},d=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return d})},"7f99":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={props:["alert_modal"],components:{},data:function(){return{}},methods:{showModalBtnLeft:function(){},closeModal:function(){}},onLoad:function(){}};e.default=o},8227:function(t,e,a){"use strict";a.r(e);var o=a("7a88"),d=a("0930");for(var n in d)"default"!==n&&function(t){a.d(e,t,function(){return d[t]})}(n);a("4cc7");var s=a("2877"),i=Object(s["a"])(d["default"],o["a"],o["b"],!1,null,null,null);e["default"]=i.exports},"937b":function(t,e,a){"use strict";a("9ded");var o=n(a("b0ce")),d=n(a("289f"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,o.default)(d.default))},b2f5:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:"show_modal_mask"}),a("view",{staticClass:"show_modal_area"},[a("view",{staticClass:"show_modal_header"},[t._v(t._s(t.show_modal_header))]),a("view",{staticClass:"show_modal_body"},[t._v(t._s(t.show_modal_body)),a("view",{staticClass:"show_modal_body_list"},[a("text",[t._v("物料编码:")]),a("text",[t._v(t._s(t.data_a))])]),a("view",{staticClass:"show_modal_body_list"},[a("text",[t._v("物料名称:")]),a("text",[t._v(t._s(t.data_b))])]),a("view",{staticClass:"show_modal_body_list"},[a("text",[t._v("清点数:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_data_f,expression:"new_data_f"}],staticClass:"show_modal_body_list_input",attrs:{type:"text",placeholder:"请输入清点数",eventid:"2b9adf06-0"},domProps:{value:t.new_data_f},on:{focus:t.focusInput,input:function(e){e.target.composing||(t.new_data_f=e.target.value)}}})]),a("view",{staticClass:"show_modal_body_list"},[a("text",[t._v("备品数:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_data_g,expression:"new_data_g"}],staticClass:"show_modal_body_list_input",attrs:{type:"text",placeholder:"请输入备品数",eventid:"2b9adf06-1"},domProps:{value:t.new_data_g},on:{input:function(e){e.target.composing||(t.new_data_g=e.target.value)}}})])]),a("input",{attrs:{type:"text"}}),a("view",{staticClass:"show_modal_footer"},[a("button",{staticClass:"show_modal_footer_btn_left_a",attrs:{eventid:"2b9adf06-2"},on:{tap:function(e){t.showModalBtnA(1)}}},[t._v("删除")]),a("button",{staticClass:"show_modal_footer_btn_left_b",attrs:{eventid:"2b9adf06-3"},on:{tap:function(e){t.showModalBtnA(2)}}},[t._v("取消")]),a("button",{staticClass:"show_modal_footer_btn_left_c",attrs:{eventid:"2b9adf06-4"},on:{tap:function(e){t.showModalBtnA(3)}}},[t._v("保存")])],1)])])},d=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return d})},b9b5:function(t,e,a){"use strict";a.r(e);var o=a("3d25"),d=a.n(o);for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);e["default"]=d.a},bacb:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=c(a("6f89")),d=c(a("2c6a")),n=c(a("3b80")),s=c(a("8227")),i=c(a("51ac")),r=c(a("a546")),l=c(a("c461")),_=a("2f62");function c(t){return t&&t.__esModule?t:{default:t}}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},o=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),o.forEach(function(e){f(t,e,a[e])})}return t}function f(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var v={components:{PurchaseOrderInquirybodyA:o.default,PurchaseOrderInquirybodyB:d.default,PurchaseOrderInquirybodyC:n.default,MaterialInventoryModal:s.default,alertModal:i.default,InventoryList:r.default,RecordModal:l.default},data:function(){return{order_text:"订单号",order_text_list:"",order_time:"采购日期",order_time_list:"",supplier:"供应商",supplier_list:"",supplier_man:"采购员",supplier_man_list:"",MaterialInventoryModal_show:!1,show_modal_header:"物料清点",show_modal_body:"",show_modal_from:"ItemInventory",alert_modal:"物料清点保存成功",alertModal_show:!1,left_show:!0,BillCode:"",Type:"11",MAC:"00-50-56-C0-00-01",BillCodeDetail:"",table_list:"",data_a:"",data_b:"",data_c:"",data_d:"",data_e:"",data_f:"",data_g:0,BizType:11,BillId:"",DetailId:"",CountQty:"",GiveQty:"",InventoryList_data:"",InventoryList_data_detail:"",record_modal_show:!1,record_data_f:"",record_data_g:"",ReceiveRecordId:"",positionTop:""}},computed:{connect_url:function(){return this.$store.state.connect_url},current_language:function(){return this.$store.state.current_language},post_header:function(){return this.$store.state.post_header}},methods:u({},(0,_.mapMutations)(["initPosition"]),{showModalBtnA:function(e){var a=this;a.record_modal_show=!1,a.record_data_f=t.getStorageSync("record_data_f"),a.record_data_g=t.getStorageSync("record_data_g"),a.ReceiveRecordId=t.getStorageSync("ReceiveRecordId"),1==e?(console.log(1),a.DeleteReceiveRecord()):2==e?console.log(2):3==e&&(console.log(3),a.ModifyReceiveRecord())},phead_choose:function(t){console.log(t),this.left_show=t,1==t?this.GetPODetail():this.GetReceiveRecord()},modal_copyshow:function(e){var a=this;a.initPosition(),a.record_modal_show=!0,a.InventoryList_data_detail=t.getStorageSync("InventoryList_data_detail"),console.log(a.InventoryList_data_detail)},tapMater:function(e){var a=this;a.MaterialInventoryModal_show=!0,console.log(e),a.data_a=e.materialCode,a.data_b=e.materialName,a.data_f=e.poQty-e.arrivalQty-e.countQty,console.log("清点数："+a.data_f),a.data_d=e.poQty,a.data_e=e.arrivalQty,a.DetailId=e.id,a.BillId=t.getStorageSync("BillId")},showModalBtn:function(e){var a=this;a.initPosition(),console.log(e),a.MaterialInventoryModal_show=!1,1==e&&(a.CountQty=t.getStorageSync("data_f"),a.GiveQty=t.getStorageSync("data_g"),a.SaveReceive())},SaveReceive:function(){var e=this;t.request({url:e.connect_url+"api/services/wmspda/PO/SaveReceive",data:{BillCode:e.BillCode,MAC:e.MAC,Type:e.Type,BillId:e.BillId,DetailId:e.DetailId,CountQty:e.CountQty,GiveQty:e.GiveQty},method:"POST",header:e.post_header,success:function(a){console.log(a.data),1==a.data.success?(e.alert_modal="物料清点保存成功",e.alertModal_show=!0,setTimeout(function(){e.alertModal_show=!1},2e3),e.GetPODetail()):t.showToast({title:a.data.error.message,duration:2e3})}})},DeleteReceiveRecord:function(){var e=this;t.request({url:e.connect_url+"api/services/wmspda/po/DeleteReceiveRecord",data:{MAC:e.MAC,ReceiveRecordId:e.ReceiveRecordId,CountQty:e.record_data_f,GiveQty:e.record_data_g},method:"POST",header:e.post_header,success:function(a){console.log(a.data),1==a.data.success?(e.alert_modal="记录删除成功",e.alertModal_show=!0,setTimeout(function(){e.alertModal_show=!1,e.GetReceiveRecord()},2e3)):t.showToast({title:a.data.error.message,duration:2e3})}})},ModifyReceiveRecord:function(){var e=this;t.request({url:e.connect_url+"api/services/wmspda/po/ModifyReceiveRecord",data:{MAC:e.MAC,ReceiveRecordId:e.ReceiveRecordId,CountQty:e.record_data_f,GiveQty:e.record_data_g},method:"POST",header:e.post_header,success:function(a){console.log(a.data),1==a.data.success?(e.alert_modal="记录修改成功",e.alertModal_show=!0,setTimeout(function(){e.alertModal_show=!1,e.GetReceiveRecord()},2e3)):t.showToast({title:a.data.error.message,duration:2e3})}})},GetPODetail:function(){var e=this;t.request({url:e.connect_url+"api/services/wmspda/PO/GetPODetail",data:{BillCode:e.BillCode,Type:e.Type,MAC:e.MAC},method:"POST",header:e.post_header,success:function(t){for(var a=t.data.result,o=0;o<a.length;o++)for(var d in a[o])null==a[o][d]&&(a[o][d]=0);e.table_list=a}})},SureSubmit:function(){this.SubmitByBillCode()},GetReceiveRecord:function(){var e=this;t.request({url:e.connect_url+"api/services/wmspda/po/GetReceiveRecord",data:{BillCode:e.BillCode,MAC:e.MAC,Type:e.Type},method:"POST",header:e.post_header,success:function(a){console.log(a.data),1==a.data.success?e.InventoryList_data=a.data.result:t.showToast({title:a.data.error.message,duration:2e3})}})},SubmitByBillCode:function(){var e=this;t.request({url:e.connect_url+"api/services/wmspda/Scan/SubmitByBillCode",data:{BillCode:e.BillCode,MAC:e.MAC},method:"POST",header:e.post_header,success:function(a){console.log(a.data),1==a.data.success?(e.alert_modal="提交清点成功",e.alertModal_show=!0,setTimeout(function(){e.alertModal_show=!1,t.navigateTo({url:"../PurchaseList/PurchaseList"})},2e3)):t.showToast({title:a.data.error.message,duration:2e3})}})}}),onLoad:function(){var e=this;e.initPosition(),e.BillCode=t.getStorageSync("BillCode"),e.BillCodeDetail=t.getStorageSync("BillCodeDetail"),e.order_text_list=e.BillCodeDetail.billCode,e.order_time_list=e.BillCodeDetail.billDate,e.supplier_list=e.BillCodeDetail.supplierName,e.supplier_man_list=e.BillCodeDetail.purEmployeeName,e.GetPODetail()}};e.default=v}).call(this,a("649d")["default"])},bfe7:function(t,e,a){"use strict";var o=a("e89d"),d=a.n(o);d.a},c342:function(t,e,a){},c461:function(t,e,a){"use strict";a.r(e);var o=a("b2f5"),d=a("b9b5");for(var n in d)"default"!==n&&function(t){a.d(e,t,function(){return d[t]})}(n);a("bfe7");var s=a("2877"),i=Object(s["a"])(d["default"],o["a"],o["b"],!1,null,null,null);e["default"]=i.exports},c5a0:function(t,e,a){"use strict";var o=a("c342"),d=a.n(o);d.a},cfa4:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"alert_modal"},[a("text",[t._v(t._s(t.alert_modal))])])},d=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return d})},e89d:function(t,e,a){}},[["937b","common/runtime","common/vendor"]]]);