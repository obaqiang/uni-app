(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mylogin/mylogin"],{"0099":function(e,t,n){"use strict";n.r(t);var o=n("1091"),a=n("67c7");for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);n("c4ab");var i=n("2877"),s=Object(i["a"])(a["default"],o["a"],o["b"],!1,null,null,null);s.options.__file="copyRightIntro.vue",t["default"]=s.exports},"03a3":function(e,t,n){"use strict";var o=n("6a87"),a=n.n(o);a.a},"05b3":function(e,t,n){"use strict";n.r(t);var o=n("8ec0"),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);t["default"]=a.a},1091:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:"text"},[e._v("©"+e._s(e.i18n.all_right_reserved))])},a=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a})},"2aa4":function(e,t,n){"use strict";n.r(t);var o=n("2c84"),a=n("05b3");for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);n("03a3");var i=n("2877"),s=Object(i["a"])(a["default"],o["a"],o["b"],!1,null,null,null);s.options.__file="choServerModal.vue",t["default"]=s.exports},"2c84":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("view",{staticClass:"choServerModal_mask",attrs:{eventid:"833ee8fa-0"},on:{tap:e.closeChoServerModal}}),n("view",{staticClass:"choServerModal_server_area"},[e._l(e.connect_url_all,function(t,o){return n("button",{key:o,attrs:{eventid:"833ee8fa-1-"+o},on:{tap:function(n){e.choServer(t)}}},[e._v(e._s(t))])}),n("view",{staticClass:"setlanguagearea"},[e._v("选择语言:"),n("picker",{attrs:{value:e.index,range:e.array,eventid:"833ee8fa-2"},on:{change:e.bindPickerChange}},[n("view",{staticClass:"uni-input"},[e._v(e._s(e.array[e.index]))])])],1)],2)])},a=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a})},"3e9f":function(e,t,n){},4651:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[e.showchoservermodal?n("choServerModal",{attrs:{showchoservermodal:e.showchoservermodal,eventid:"48ec72fe-0",mpcomid:"48ec72fe-0"},on:{success:function(t){e.success()}}}):e._e(),n("image",{staticClass:"login_head",attrs:{src:e.login_head}}),n("view",{staticClass:"head_login_text_area"},[n("view",{staticClass:"login_text"},[e._v(e._s(e.i18n.login_text))]),n("view",[n("view",{staticClass:"login_in"},[n("image",{staticClass:"login_username",attrs:{src:e.login_username}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.account,expression:"account"}],staticClass:"login_input",attrs:{type:"text",placeholder:"请输入用户名",eventid:"48ec72fe-1"},domProps:{value:e.account},on:{input:function(t){t.target.composing||(e.account=t.target.value)}}}),n("image",{staticClass:"login_clear",attrs:{src:e.login_clear}})]),n("view",{staticClass:"login_in"},[n("image",{staticClass:"login_username",attrs:{src:e.login_password}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"login_input",attrs:{type:"text",placeholder:"请输入密码",eventid:"48ec72fe-2"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("image",{staticClass:"login_clear",attrs:{src:e.login_password_show}})]),n("button",{staticClass:"btn_login",attrs:{eventid:"48ec72fe-3"},on:{tap:e.bindLogin}},[e._v(e._s(e.i18n.login_in_now))]),n("button",{staticClass:"btn_server",attrs:{eventid:"48ec72fe-4"},on:{tap:e.choServer}},[e._v(e._s(e.i18n.configure_server))])],1)]),n("copyRightIntro",{attrs:{mpcomid:"48ec72fe-1"}}),e.ifshowmodal?n("showModal",{attrs:{show_modal_header:e.show_modal_header,show_modal_body:e.show_modal_body,show_modal_from:e.show_modal_from,eventid:"48ec72fe-5",mpcomid:"48ec72fe-2"},on:{showModalsuccess:function(t){e.showModalsuccess()}}}):e._e()],1)},a=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a})},"67c7":function(e,t,n){"use strict";n.r(t);var o=n("6af8"),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);t["default"]=a.a},"6a87":function(e,t,n){},"6af8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{}},computed:{i18n:function(){return this.$t("copyRightIntro")}}};t.default=o},"712b":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n("0099")),a=s(n("2aa4")),r=s(n("526d")),i=n("2f62");function s(e){return e&&e.__esModule?e:{default:e}}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){l(e,t,n[t])})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={components:{copyRightIntro:o.default,choServerModal:a.default,showModal:r.default},data:function(){return{login_head:"../../static/img/login_head.png",login_username:"../../static/img/login_username.png",login_clear:"../../static/img/login_clear.png",login_password:"../../static/img/login_password.png",login_password_show:"../../static/img/login_password_show.png",account:"Default",usernameOrEmailAddress:"admin",password:"123qwe",deviceType:"8",mac:"02-F4-8D-CB-0A-41",showchoservermodal:!1,TenantId:"1",ClientCode:"WPDA",ifshowmodal:!1,show_modal_header:"版本更新",show_modal_body:"",show_modal_from:"mylogin"}},computed:{connect_url:function(){return this.$store.state.connect_url},current_language:function(){return this.$store.state.current_language},i18n:function(){return this.$t("mylogin")}},methods:c({},(0,i.mapMutations)(["MacInfo"]),(0,i.mapMutations)(["changeToken"]),(0,i.mapMutations)(["changeOrgId"]),{bindLogin:function(){this.account.length<5?e.showToast({icon:"none",title:"账号最短为 5 个字符"}):this.password.length<6?e.showToast({icon:"none",title:"密码最短为 6 个字符"}):this.ClientLogin()},choServer:function(){this.showchoservermodal=!this.showchoservermodal},success:function(){this.showchoservermodal=!this.showchoservermodal},showModalsuccess:function(){this.ifshowmodal=!this.ifshowmodal},ClientLogin:function(){var t=this;e.request({url:t.connect_url+"api/Account/ClientLogin",data:{tenancyName:t.account,usernameOrEmailAddress:t.usernameOrEmailAddress,password:t.password,deviceType:t.deviceType,mac:t.mac},method:"POST",header:{"Content-Type":"application/json","Abp.Localization.CultureName":t.current_language},success:function(n){console.log(n.data),1==n.data.success?null==n.data.result.currentOrgUnit?e.showToast({title:"当前用户不属于任何组织，无法登录",duration:2e3}):null==n.data.result.grantPermission?e.showToast({title:"用户未授权",duration:2e3}):(t.changeToken(n.data.result.token),t.changeOrgId(n.data.result.currentOrgUnit.id),e.switchTab({url:"../homepage/homepage"})):e.showToast({title:n.data.error.message,duration:2e3})}})},GetCSVersion:function(){var t=this;e.request({url:t.connect_url+"api/services/app/ClientVersion/GetCSVersion",data:{TenantId:t.TenantId,ClientCode:t.ClientCode},method:"POST",header:{"Content-Type":"application/json",Authorization:"Bearer "+t.token,"Abp.Localization.CultureName":t.current_language},success:function(e){console.log(e.data),1==e.data.result.updateMode?(t.ifshowmodal=!0,t.show_modal_body="可升级"):1==e.data.result.updateMode&&(t.ifshowmodal=!0,t.show_modal_body="强制性升级")}})}}),onLoad:function(){this.GetCSVersion()}};t.default=u}).call(this,n("649d")["default"])},8373:function(e,t,n){"use strict";n("9ded");var o=r(n("b0ce")),a=r(n("e6c9"));function r(e){return e&&e.__esModule?e:{default:e}}Page((0,o.default)(a.default))},"8ec0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("2f62");function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i={props:["showchoservermodal"],components:{},data:function(){return{array:["中文","English","繁體"],index:0}},computed:(0,o.mapState)(["connect_url_all"]),methods:a({},(0,o.mapMutations)(["changeServerUrl"]),{choServer:function(e){this.changeServerUrl(e)},bindPickerChange:function(e){console.log("picker发送选择改变，携带值为",e.target.value),this.index=e.target.value,0==this.index?this.$i18n.locale="zh-CN":1==this.index?this.$i18n.locale="en":2==this.index&&(this.$i18n.locale="zh-TW"),console.log(this.$i18n.locale)},closeChoServerModal:function(){this.$emit("success",!0)}}),onLoad:function(){console.log(132),console.log(this.connect_url_all)}};t.default=i},c4ab:function(e,t,n){"use strict";var o=n("3e9f"),a=n.n(o);a.a},e030:function(e,t,n){},e27e:function(e,t,n){"use strict";n.r(t);var o=n("712b"),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,function(){return o[e]})}(r);t["default"]=a.a},e6b1:function(e,t,n){"use strict";var o=n("e030"),a=n.n(o);a.a},e6c9:function(e,t,n){"use strict";n.r(t);var o=n("4651"),a=n("e27e");for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);n("e6b1");var i=n("2877"),s=Object(i["a"])(a["default"],o["a"],o["b"],!1,null,null,null);s.options.__file="mylogin.vue",t["default"]=s.exports}},[["8373","common/runtime","common/vendor"]]]);